---
layout: post
title: "阅读代码的技巧"
date: 2018-01-31
category: 2018年
keywords: 总结，分享，阅读，代码，修复，缺陷
---

## 引子

上周有一个将近半年没有解决掉的问题，我集中精力分析core文件，然后通过阅读源代码，竟然把根因找出来，解决掉了。 

这周也有一个低概率问题，涉及到了第三方开源库libevent，该问题发现了快一个月，分析一直没有突破。周一组内安排我投入，我花了一天的时间把libevent的原理弄大致明白，再把源代码梳理了一次，反复推理了几次，竟然把根因找出来了，问题得到了解决。

基于这两个事情，组内同事问我关于代码阅读来修复缺陷的事。我之前也没有好好想过这方面的小结。对于代码的书写和阅读，从误入软件开发这个行业开始，我是一直有自省的，例如：如何书写代码才能更少地犯错？如何阅读代码才能够更快地理解？如何阅读代码才能够更快地发现问题？等等。我想，这可能只是一个开始，写得不一定会很全面和细致，后面还会有此类的一些总结。还是按照现有风格吧，想到哪里，就写到哪里。

## 书写代码

关于写代码的技巧性说明，网上文章很多。谈谈自己的另外一些看法。

### **晚上不要写代码** 

无数个事实说明，晚上提交的代码必然会引入新的问题，晚上最好不要写代码进行问题的修复。对于平常工作的人来讲，一整天的工作是很花费精力的。

### **连续写代码时长不要超过4个小时**

### **反复阅读实现逻辑，找出可能的漏洞**

### **最好能够使用用例进行全面测试覆盖**

### **把你的代码翻译成你的母语**

## 阅读代码

### **使用好的IDE不中断思考**

### **使用你的母语翻译正在阅读的代码**

### **理解它的逻辑和内在的想法**

### **打破线性思维，并发、异步和时间窗**

### **阅读，阅读，再阅读**
